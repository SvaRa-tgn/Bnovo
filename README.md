API для CRUD работы с Guest.

По условиям задачи, если гость не указывает страну. то мы должны взять страну из номера телефона по коду страны.

Я не нашел пакетов для Laravel, которые могли бы делать подобное
Есть библиотеки которые парсят код в в нужный формат. 
https://github.com/giggsey/libphonenumber-for-php?tab=readme-ov-file#mapping-phone-numbers-to-carrier

Поэтому я решил сделать следующим образом. 
Сделал миграцию, которая создает таблицу Countries
В таблице столбцы:
id
code - телефонный код +7 (для России)
страна - заносится страна соответствуящая коду.

Предусматривается, что изначально мы отдаем коллекцию Country:all() на фронт.
Коллекция попадает в тэг Select. То есть, когда Гость вводит номер телефона он не вносит код страны, а выбирает 
из существующих.

В итоге с фронта нам прилетает массив c фронта:
name
surname
email
code
phone

Далее по code мы находим страну в таблице countries и сохраняем Гостя с такими данными:
name
surname
email
country
phone

Работу API можно протестировать в Postman эндпоинты и данные для запроса опишу ниже.

Делаем файл .env
там добавляем вместо настроек MySQL
DB_CONNECTION=pgsql
DB_HOST=db
DB_PORT=5432
DB_DATABASE=bnovo
DB_USERNAME=bnovo
DB_PASSWORD=bnovo
POSTGRES_PORT=5442

Установка в терминале:
docker compose build - билдим проект
docker compose up -d - поднимаем контейнеры
Если вы разворачиваете проект на винде то следующие команды надо делать в Docker Desktop в терминале fpm контейнера
composer install
php artisan key:generate
php artisan migrate

Если база данных не подключается то 
Остановите контейнеры Docker compose down

в проекте в папке .docker/postgres
удалите папки data и test-data
и заново запустите проект docker compose up -d

Для начала теста нужно заполнить таблицу со странами, чтобы доставать из номера телефона страну(!!!)

Создать страну
POST http://localhost:8010/api/v1/country
Передавать в form-data
code: +7
country: Россия
Возвращает json c данными созданной страны со всеми полями из БД

Для редактирования страны
PATCH http://localhost:8010/api/v1/country/{id} - где id страна которую хотите редактировать
Передавать в params то что хотите изменить
code: +7
country: Россия
Возвращает json c данными отредактированной страны со всеми полями из БД

Удаление страны
DELETE http://localhost:8010/api/v1/country/{id} - где id страна которую хотите удалить
возвращает json с подтверждением удаления

Просмотреть все страны
GET http://localhost:8010/api/v1/country
возвращает json c данными всех стран из БД

Просмотреть страну
GET http://localhost:8010/api/v1/country/{id} - где id страна которую хотите посмотреть
возвращает json c данными выбраной страны из БД

CRUD для Guest (Гостя)
Создать Гостя
POST http://localhost:8010/api/v1/guests
Передавать в form-data
name:
surname:
email
code:
phone:
Возвращает json c данными созданного гостя со всеми полями из БД

Редактировать гостя
PATCH http://localhost:8010/api/v1/guests/{id} - где id гость которого хотите редактировать
Передавать в params то что хотите изменить
Возвращает json c данными отредактированного гостя со всеми полями из БД

Удаление гостя
DELETE http://localhost:8010/api/v1/guests/{id} - где id гость которого хотите удалить
возвращает json с подтверждением удаления

Просмотреть всяех гостей
GET http://localhost:8010/api/v1/guests
возвращает json c данными всех гостей из БД

Просмотреть гостя
GET http://localhost:8010/api/v1/guests/{id} - где id гость которого хотите посмотреть
возвращает json c данными выбраного гостя из БД
